{% extends "base.html" %}
{% block title %}OpenTransLive - {{ sid }}{% endblock %}

{% block content %}
<main class="bg-gray-900 text-gray-100 min-h-svh">
  <div class="container mx-auto px-6 py-10">
    <div class="flex mb-6">
      <span class="rounded bg-gray-500 block w-max px-2 py-1 font-bold">{{ sid }}</span>
      <div class="ms-auto flex items-center">
        <span id="status-indicator" class="inline-block w-3 h-3 rounded-full bg-gray-400"></span>
        <span id="status-text" class="ms-1">Waiting...</span>
      </div>
    </div>
    <form id="api_keys_form">
      <div class="text-sm text-gray-400 my-4">
        API keys only used in your local browser, and will be cleared when you close the browser.
      </div>
      <label for="user_openai_api_key">
        <red>* </red>Your OpenAI API Key
        <input type="text" name="user_openai_api_key" placeholder="OpenAI API Key" class="mt-2 mb-4" required>
      </label>
      <label for="user_elevenlabs_api_key">Your Elevenlabs API Key
        <input type="text" name="user_elevenlabs_api_key" placeholder="Elevenlabs API Key" class="mt-2 mb-4">
      </label>
      <div class="mt-6">
        <button type="submit" id="start-session-btn" class="btn btn-primary">Start Session</button>
        <button type="button" id="stop-session-btn" class="hidden btn btn-red">Listening...</button>
      </div>
    </form>
    <hr class="my-6 border-gray-600">
    <div id="transcriptions">

    </div>
  </div>
</main>
{% endblock %} {% block scripts %}
<script>
  const sessionId = "{{ sid }}";
</script>
<script src="/static/js/live.js"></script>
{% endblock %}